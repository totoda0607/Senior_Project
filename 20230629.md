# tts를 활용한 음성 코드
import azure.cognitiveservices.speech as speechsdk

speech_key = 'YOUR_SPEECH_KEY'
speech_region = 'YOUR_SPEECH_REGION'

speech_config = speechsdk.SpeechConfig(subscription=speech_key, region=speech_region)

음성 합성에 사용할 음성의 언어 설정.
speech_config.speech_synthesis_voice_name = 'ko-KR-JennyNeural'

speech_synthesizer = speechsdk.SpeechSynthesizer(speech_config=speech_config)

콘솔에서 텍스트 입력을 받아 음성으로 합성하고 바로 재생.
print("말하고 싶은 텍스트를 입력하세요 >")
text = input()

result = speech_synthesizer.speak_text_async(text).get()

if result.reason == speechsdk.ResultReason.SynthesizingAudioCompleted:
    stream = speechsdk.audio.PushAudioOutputStream()
    audio_config = speechsdk.audio.AudioOutputConfig(stream)
    speech_synthesizer.synthesis_to_audio_stream_async(stream).get()
    audio_player = speechsdk.audio.AudioPlayer()
    audio_player.play_audio(audio_config)
