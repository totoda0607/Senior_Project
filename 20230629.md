import os
import azure.cognitiveservices.speech as speechsdk

speech_key = 'YOUR_SPEECH_KEY'
speech_region = 'YOUR_SPEECH_REGION'

speech_config = speechsdk.SpeechConfig(subscription=speech_key, region=speech_region)
 음성 합성에 사용할 음성의 언어 설정.
speech_config.speech_synthesis_voice_name = 'ko-KR-JennyNeural'

audio_config = speechsdk.audio.AudioOutputConfig(filename="output.mp3")

 speech_synthesizer = speechsdk.SpeechSynthesizer(speech_config=speech_config, audio_config=audio_config)

  콘솔에서 텍스트 입력을 받아 음성으로 합성.
 print("말하고 싶은 텍스트를 입력하세요 >")
 text = input()

 speech_synthesis_result = speech_synthesizer.speak_text_async(text).get()

if speech_synthesis_result.reason == speechsdk.ResultReason.SynthesizingAudioCompleted:
    print("입력한 텍스트에 대한 음성이 합성되었습니다: [{}]".format(text))
 elif speech_synthesis_result.reason == speechsdk.ResultReason.Canceled:
    cancellation_details = speech_synthesis_result.cancellation_details
    print("음성 합성이 취소되었습니다: {}".format(cancellation_details.reason))
    if cancellation_details.reason == speechsdk.CancellationReason.Error:       
    if cancellation_details.error_details:            
    print("에러 상세정보: {}".format(cancellation_details.error_details))
    print("음성 리소스 키와 지역 값을 올바르게 설정하셨나요?")
